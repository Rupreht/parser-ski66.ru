{% extends 'base.html' %}

{% block content %}
<h2>Edit</h2>
<h4>{% block title %}{{ post['title'] }}{% endblock %}</h4>

<form method="post">
    <div class="form-group row">
        <label for="pub_date" class="col-sm-2 col-form-label">pub_date</label>
        <div class="col-sm-10">
            <input type="text" id="pub_date" name="pub_date" placeholder="Post pub_date"
                class="form-control"
                value="{{ request.form['pub_date'] or post['pub_date'] }}">
        </div>
    </div>

    <div class="form-group row">
        <label for="title" class="col-sm-2 col-form-label">Title</label>
        <div class="col-sm-10">
            <input type="text" disabled
                    class="form-control" value="{{ request.form['title'] or post['title'] }}">
            <input type="hidden" name="title" placeholder="Post title"
                class="form-control"
                value="{{ request.form['title'] or post['title'] }}">
        </div>
    </div>

    <div class="form-group">
        <label for="content">Content</label>
        <textarea name="content" placeholder="Post content"
                  class="form-control" rows="12">{{ request.form['content'] or post['content'] }}</textarea>
    </div>
    <div class="form-group">
        <input type="checkbox" name="forward" aria-label="публиковать" {% if request.form['forward'] or post['forward'] %}checked{% endif %}>
        <label for="title">публиковать</label>
    </div>
    <div class="form-group">
        <button type="submit" class="btn btn-primary">Сохранить</button>
        <a href="{{ url_for('main.index') }}">
            <span class="btn btn-primary">Отмена</span>
        </a>
    </div>
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
</form>
<hr>

<form action="{{ url_for('main.delete', id=post['id']) }}" method="POST">
    <input type="submit" value="Delete Post"
            class="btn btn-danger btn-sm"
            onclick="return confirm('Are you sure you want to delete this post?')">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
</form>

{% endblock %}
